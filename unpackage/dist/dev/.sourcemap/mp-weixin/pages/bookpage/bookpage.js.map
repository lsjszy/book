{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/极客营培训/code/15、uniapp/uni-read/pages/bookpage/bookpage.vue?05d7","webpack:///E:/极客营培训/code/15、uniapp/uni-read/pages/bookpage/bookpage.vue?a96b","webpack:///E:/极客营培训/code/15、uniapp/uni-read/pages/bookpage/bookpage.vue?8fab","uni-app:///pages/bookpage/bookpage.vue","webpack:///E:/极客营培训/code/15、uniapp/uni-read/pages/bookpage/bookpage.vue?bebe","webpack:///E:/极客营培训/code/15、uniapp/uni-read/pages/bookpage/bookpage.vue?c817"],"names":["createPage","Page"],"mappings":"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","file":"pages/bookpage/bookpage.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/bookpage/bookpage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bookpage.vue?vue&type=template&id=7eefed86&scoped=true&\"\nvar renderjs\nimport script from \"./bookpage.vue?vue&type=script&lang=js&\"\nexport * from \"./bookpage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bookpage.vue?vue&type=style&index=0&id=7eefed86&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7eefed86\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/bookpage/bookpage.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookpage.vue?vue&type=template&id=7eefed86&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookpage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookpage.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"content-text\" id=\"box\" :style=\"{height: boxHeight + 'px'}\" @click.stop=\"clickStoreDialogMark\">\r\n\t\t\t<view id=\"bdata\" :style=\"{top: -boxHeight * currentPage + 'px'}\">\r\n\t\t\t\t<rich-text class=\"content rtext\" :nodes=\"pagestxt\" space=\"nbsp\" id=\"rdata\"></rich-text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- <scroll-view class=\"scroll \" v-bind:class=\"[scrollValue?'fold':'unfold']\" @click=\"getMenu\"\r\n\t\t\t:style=\"{backgroundColor:backgroundcolor,color:color,fontSize:fontsize+'px'}\" scroll-y=\"true\"\r\n\t\t\t:scroll-top=\"scrollTop\" @scroll=\"scroll\">\r\n\t\t\t<rich-text class=\"content\" :nodes=\"pages.txt\" space=\"nbsp\"></rich-text>\r\n\t\t\t<view class=\"change\">\r\n\t\t\t\t<view class=\"prev item\" @click=\"getPrev\">上一章</view>\r\n\t\t\t\t<view class=\"next item\" @click=\"getNext\">下一章</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view> -->\r\n\t\t<view class=\"menu \" v-bind:class=\"[menuVlaue?'fold':'unfold']\">\r\n\t\t\t<view class=\"list\">\r\n\t\t\t\t<view class=\"prev item\" @click=\"goPrev\">上一章</view>\r\n\t\t\t\t<view class=\"catalog item\" @click=\"getCata\">目录</view>\r\n\t\t\t\t<view class=\"next item\" @click=\"goNext\">下一章</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"color\">\r\n\t\t\t\t<view class=\"white item\" @click=\"bgWhite\">白色</view>\r\n\t\t\t\t<view class=\"black item\" @click=\"bgColorhui\">黑色</view>\r\n\t\t\t\t<view class=\"green item\" @click=\"bgColorlv\">绿色</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"font\">\r\n\t\t\t\t<view class=\"big item\" @click=\"fontbig\">Aa+</view>\r\n\t\t\t\t<view class=\"small item\" @click=\"fontsmall\">Aa-</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<scroll-view class=\"catapage \" :class=\"[ cataValue?'fold':'unfold']\" scroll-y=\"true\"\r\n\t\t\t@scrolltolower=\"onReachBottom\">\r\n\t\t\t<view class=\"catalog\" v-for=\"item in chapters\" :key=\"item.chapterId\" @click=\"goPage\" :id=\"item.chapterId\">\r\n\t\t\t\t{{item.name}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cancel\" @click=\"getCata\">取消</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tchapterURL,\r\n\t\tbookPageURL,\r\n\t\trequestGet\r\n\t} from '@/utils/http.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tchapterindex: 0,\r\n\t\t\t\tpagestxt: '',\r\n\t\t\t\tpages: [],\r\n\t\t\t\tpageIndex: 1,\r\n\t\t\t\tchapters: [], //正序章节目录\r\n\t\t\t\tchapt: [],\r\n\t\t\t\tmenuVlaue: true, //默认菜单不出现\r\n\t\t\t\tcataValue: true, //默认目录不出现\r\n\t\t\t\tscrollValue: false, //书籍内容页面，默认出现:0,\r\n\t\t\t\tscreenHeight: null,\r\n\t\t\t\tscreenWidth: null,\r\n\t\t\t\tscrollTop: 0, //滑动时距离顶部的距离\r\n\t\t\t\toldscroll: 0,\r\n\t\t\t\tbackgroundcolor: \"\", //背景颜色\r\n\t\t\t\tbgColorwhite: \"#eaeaea\", //背景颜色为白色\r\n\t\t\t\tbgColorblack: \"#666\",\r\n\t\t\t\tbgColorgreen: \"#d5f6d6\",\r\n\t\t\t\tcolor: \"\", //字体颜色\r\n\t\t\t\tfontcolorblack: \"#000\", //字体颜色为黑色\r\n\t\t\t\tfontcolorwhite: \"#eee\",\r\n\t\t\t\tfontsize: 14, //字体大小,\r\n\t\t\t\tchapterIndex: 1,\r\n\t\t\t\tlastchapt: [],\r\n\t\t\t\tlastchapters: [], //倒序章节目录\r\n\t\t\t\toldcata: true,\r\n\t\t\t\tboxHeight: null,\r\n\t\t\t\ttextHeight: null,\r\n\t\t\t\tviewWidth: null,\r\n\t\t\t\tcurrentPage: 0,\r\n\t\t\t\tpageNum: null,\r\n\t\t\t\tpgtag: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tpageNum() { // 单章总页数\r\n\t\t\t\treturn Math.ceil(this.textHeight / this.boxHeight) || 1\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tvar box = uni.createSelectorQuery().select('#box')\r\n\t\t\t// console.log(box, \"xxxxxxxx\")\r\n\t\t\tvar view = uni.createSelectorQuery().select('.story')\r\n\t\t\tbox.boundingClientRect(data => {\r\n\t\t\t\t// console.log(data.height, \"bbbbbbheihgt\")\r\n\t\t\t\tthis.boxHeight = Math.floor(data.height / 26) * 26\r\n\t\t\t\t// console.log('boxHeight', this.boxHeight)\r\n\t\t\t}).exec()\r\n\r\n\r\n\r\n\t\t\t// view.boundingClientRect(data => {\r\n\t\t\t// \tthis.viewWidth = data.width\r\n\t\t\t// \t// console.log('viewWidth', data.width)\r\n\t\t\t// }).exec()\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.screenHeight = res.screenHeight;\r\n\t\t\t\t\tthis.screenWidth = res.screenWidth;\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.bookid = options.bookId;\r\n\t\t\tthis.chapterid = options.chapterId;\r\n\t\t\tthis.getPagesData();\r\n\t\t\tthis.getChapterData();\r\n\r\n\r\n\t\t},\r\n\t\t//获取页面滚动出去的距离\r\n\t\t// onPageScroll(res) {\r\n\t\t// \tthis.scrolltop = res.scrollTop\r\n\t\t// \tconsole.log(this.scrolltop, \"lllllllll\")\r\n\r\n\t\t// },\r\n\t\tmethods: {\r\n\t\t\tclickStoreDialogMark(e) {\r\n\t\t\t\tconsole.log(e.target, \"iiiiii\")\r\n\r\n\t\t\t\t// console.log(e.target, \"rrrrrrrr\")\r\n\t\t\t\tif (e.target.x <= 100) {\r\n\t\t\t\t\t// 点击左侧\r\n\t\t\t\t\tthis.current -= 1\r\n\t\t\t\t\tthis.bback()\r\n\t\t\t\t} else if (e.target.x > 100 && e.target.x <= 238) {\r\n\t\t\t\t\t// 点击中间\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 点击右侧\r\n\t\t\t\t\tthis.current += 1\r\n\t\t\t\t\tthis.bnext();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tbback() {\r\n\t\t\t\t\r\n\t\t\t\tif(this.currentPage==0){\r\n\t\t\t\t\tthis.goPrev();\r\n\t\t\t\t\tthis.currentPage=this.pageNum-1;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.currentPage -= 1\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tbnext() {\r\n\t\t\t\tconsole.log(this.current, \"pagenum\");\r\n\t\t\t\tconsole.log(this.pageNum, \"currentpage\");\r\n\t\t\t\tif (this.current == this.pageNum) {\r\n\t\t\t\t\tconsole.log(\"这章结束\");\r\n\t\t\t\t\tthis.currentPage = 0;\r\n\t\t\t\t\tthis.current = 0;\r\n\t\t\t\t\tthis.pagestxt = '';\r\n\t\t\t\t\tthis.goNext()\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.currentPage += 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tasync getPagesData() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t\tconst result = await requestGet(\r\n\t\t\t\t\tbookPageURL +\r\n\t\t\t\t\t`bookId=${this.bookid}&IsPreload=0&chapterId=${this.chapterid}`\r\n\t\t\t\t);\r\n\t\t\t\tthis.pages = result.ResponseObject[0].module;\r\n\t\t\t\tthis.pagestxt = this.pages.txt;\r\n\t\t\t\tthis.chapterIndex = this.pages.chapterIndex;\r\n\t\t\t\tuni.hideToast();\r\n\t\t\t\tif (this.pages.coin > 0 && this.pages.noMoney == true) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"充值后才能阅读哦\",\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tvar text = uni.createSelectorQuery().in(this).select('#bdata')\r\n\t\t\t\t\ttext.boundingClientRect(data => {\r\n\t\t\t\t\t\tthis.textHeight = data.height\r\n\r\n\t\t\t\t\t\tthis.pageNum = Math.ceil(this.textHeight / this.boxHeight) || 1\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tasync getChapterData() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t\tconst result = await requestGet(chapterURL + this.bookid, {\r\n\t\t\t\t\tpageIndex: this.pageIndex,\r\n\t\t\t\t\tpageSize: 20\r\n\t\t\t\t});\r\n\t\t\t\tthis.chapt = result.ResponseObject[0].module.ascList; //正序每页章节\r\n\t\t\t\tthis.chapters = [...this.chapters, ...this.chapt];\r\n\t\t\t\tthis.lastchapt = result.ResponseObject[0].module.descList; //倒序每页章节\r\n\t\t\t\tthis.lastchapters = [...this.lastchapters, ...this.lastchapt];\r\n\r\n\t\t\t\tuni.hideToast();\r\n\r\n\r\n\t\t\t},\r\n\t\t\tonReachBottom: function() {\r\n\t\t\t\t++this.pageIndex;\r\n\t\t\t\tthis.getChapterData();\r\n\t\t\t},\r\n\t\t\t//当异步任务有了结果之后，就可以停止下拉刷新\r\n\t\t\tonPullDownRefresh: function() {\r\n\t\t\t\tthis.getPagesData().then(() => {\r\n\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetMenu: function(event) { //375 667\r\n\r\n\t\t\t\tlet xMid = this.screenWidth / 2;\r\n\t\t\t\tlet yMid = this.screenHeight / 2;\r\n\t\t\t\tlet x = event.detail.x;\r\n\t\t\t\tlet y = event.detail.y;\r\n\t\t\t\tif (x > xMid - 100 && x < xMid + 100 && y > yMid - 150 && y < yMid + 120) {\r\n\t\t\t\t\tthis.menuVlaue = !this.menuVlaue;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t},\r\n\t\t\t//点击显示目录页面并隐藏原页面,取消隐藏菜单及目录\r\n\t\t\tgetCata() {\r\n\t\t\t\tthis.cataValue = !this.cataValue;\r\n\t\t\t\tthis.scrollValue = !this.scrollValue;\r\n\t\t\t\tthis.menuVlaue = this.oldcata;\r\n\r\n\t\t\t},\r\n\t\t\tgoPage(e) {\r\n\t\t\t\tthis.cataValue = !this.cataValue;\r\n\t\t\t\tthis.scrollValue = !this.scrollValue;\r\n\t\t\t\tthis.chapterid = e.target.id;\r\n\t\t\t\tthis.getPagesData().then(() => {\r\n\t\t\t\t\tthis.scrollTop = this.oldscroll;\r\n\t\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\t\tthis.scrollTop = 0;\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tscroll(e) {\r\n\t\t\t\tthis.oldscroll = e.detail.scrollTop;\r\n\t\t\t},\r\n\t\t\t//点击菜单下一章,菜单消失跳到下一章\r\n\t\t\tgoNext() {\r\n\t\t\t\tthis.menuVlaue = !this.menuVlaue;\r\n\t\t\t\tif (this.chapterIndex == this.pages.chapterCount) {\r\n\t\t\t\t\t//当前在最后一章\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"已经是最新章节啦\",\r\n\t\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: 800\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.chapterid = this.pages.nextChapterId;\r\n\t\t\t\tthis.getPagesData().then(() => {\r\n\t\t\t\t\tthis.scrollTop = this.oldscroll;\r\n\t\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\t\tthis.scrollTop = 0;\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconsole.log(this.menuVlaue)\r\n\t\t\t\t//点击下一章先跳转章节再回到顶部\r\n\t\t\t},\r\n\t\t\t//点击内容下一章\r\n\t\t\tgetNext() {\r\n\t\t\t\tif (this.chapterIndex == this.pages.chapterCount) {\r\n\t\t\t\t\t//当前在最后一章\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"已经是最新章节啦\",\r\n\t\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: 800\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.chapterid = this.pages.nextChapterId;\r\n\t\t\t\tthis.getPagesData().then(() => {\r\n\t\t\t\t\tthis.scrollTop = this.oldscroll;\r\n\t\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\t\tthis.scrollTop = 0;\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tgoPrev: function() {\r\n\t\t\t\tthis.menuVlaue = !this.menuVlaue;\r\n\t\t\t\tif (this.chapterIndex == 1) {\r\n\t\t\t\t\t//当前在第一章\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"已经在第一章啦\",\r\n\t\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: 800\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.chapterid = this.pages.prevChapterId;\r\n\t\t\t\tthis.getPagesData().then(() => {\r\n\t\t\t\t\tthis.scrollTop = this.oldscroll;\r\n\t\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\t\tthis.scrollTop = 0;\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetPrev: function() {\r\n\t\t\t\tif (this.chapterIndex == 1) {\r\n\t\t\t\t\t//当前在第一章\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"已经在第一章啦\",\r\n\t\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\tduration: 800\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.chapterid = this.pages.prevChapterId;\r\n\t\t\t\tthis.getPagesData().then(() => {\r\n\t\t\t\t\tthis.scrollTop = this.oldscroll;\r\n\t\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\t\tthis.scrollTop = 0;\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tbgWhite() {\r\n\t\t\t\tthis.backgroundcolor = this.bgColorwhite;\r\n\t\t\t\tthis.color = this.fontcolorblack;\r\n\t\t\t},\r\n\t\t\tbgColorhui() {\r\n\t\t\t\tthis.backgroundcolor = this.bgColorblack;\r\n\t\t\t\tthis.color = this.fontcolorwhite;\r\n\t\t\t},\r\n\t\t\tbgColorlv() {\r\n\t\t\t\tthis.backgroundcolor = this.bgColorgreen;\r\n\t\t\t\tthis.color = this.fontcolorblack;\r\n\t\t\t},\r\n\t\t\tfontbig() {\r\n\t\t\t\tthis.fontsize++;\r\n\r\n\t\t\t\tif (this.fontsize > 20) {\r\n\t\t\t\t\tthis.fontsize = 20;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '不能再大了',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfontsmall() {\r\n\t\t\t\tthis.fontsize--;\r\n\t\t\t\tif (this.fontsize < 8) {\r\n\t\t\t\t\tthis.fontsize = 8;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '不能再小了',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.bnext {\r\n\t\tmargin: 20rpx;\r\n\t}\r\n\r\n\t.content-text {\r\n\t\twidth: 100%;\r\n\t\theight: 96vh;\r\n\t\tline-height: 26px;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\ttop: 4vh;\r\n\t\tz-index: 2;\r\n\t\tbackground-color: #e3dae9;\r\n\t\toverflow: hidden;\r\n\r\n\t\t#bdata {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: auto;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\tpadding: 0 10px;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tz-index: 3;\r\n\t\t\ttext-indent: 1.5em;\r\n\t\t}\r\n\t}\r\n\r\n\t/deep/::-webkit-scrollbar {\r\n\t\tdisplay: none;\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t}\r\n\r\n\t.container {\r\n\r\n\t\tposition: relative;\r\n\t\t// #ifdef H5 */ \r\n\t\t// height:93vh;\r\n\t\t// /* #endif */ \r\n\t\t// /* #ifdef MP-WEIXIN */\r\n\t\t// height:100vh;\r\n\t\t// /* #endif \r\n\t\t// margin-top: 40px;\r\n\r\n\r\n\r\n\t\t.scroll {\r\n\t\t\tpadding: 0 20rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\t/* #ifdef H5*/\r\n\t\t\theight: 93vh;\r\n\t\t\t/* #endif*/\r\n\t\t\t/* #ifdef MP-WEIXIN*/\r\n\t\t\theight: 100vh;\r\n\r\n\t\t\t/* #endif*/\r\n\t\t\t.content {\r\n\t\t\t\t// height: 93vh;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tline-height: 60rpx;\r\n\t\t\t\ttext-indent: 2em;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.change {\r\n\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t.item {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tborder: 1px solid #ccc;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\tline-height: 60rpx;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\t\t.menu {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\theight: 300rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\tcolor: #000;\r\n\t\t\tfont-size: 16px;\r\n\t\t\tbackground-color: #eee;\r\n\r\n\t\t\t.list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tborder-bottom: 1px solid #e3e3e3;\r\n\t\t\t}\r\n\r\n\t\t\t.item {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tline-height: 100rpx;\r\n\t\t\t\t// border     : 1px solid #aaa;\r\n\t\t\t}\r\n\r\n\t\t\t.color {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tborder-bottom: 1px solid #e3e3e3;\r\n\r\n\t\t\t\t.white {\r\n\t\t\t\t\tbackground-color: #eaeaea;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.black {\r\n\t\t\t\t\tbackground-color: #666;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.green {\r\n\t\t\t\t\tbackground-color: #d5f6d6;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.font {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tborder-bottom: 1px solid #e3e3e3;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.catapage {\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: fixed;\r\n\t\t\theight: 100vh;\r\n\t\t\t/*  #ifdef  H5  */\r\n\t\t\ttop: 88rpx;\r\n\t\t\t/* #endif */\r\n\t\t\t/*  #ifdef  MP-WEIXIN  */\r\n\t\t\ttop: 0;\r\n\t\t\t/* #endif */\r\n\t\t\tleft: 0;\r\n\t\t\tbackground-color: pink;\r\n\t\t\tdisplay: none;\r\n\r\n\t\t\t.catalog {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tline-height: 70rpx;\r\n\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t}\r\n\r\n\t\t\t.cancel {\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 80rpx;\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.fold {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t.unfold {\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookpage.vue?vue&type=style&index=0&id=7eefed86&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bookpage.vue?vue&type=style&index=0&id=7eefed86&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1637916261328\n      var cssReload = require(\"E:/极客营培训/HBuilderX.3.2.12.20211029.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}